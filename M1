import requests
import random
import time

# قائمة البروكسي
proxies_list = [
    "5.53.200.33:3128",
"155.61.23.119:3128",
"167.175.50.84:80",
"165.225.52.25:80",
"19.26.163.145:8081",
"245.135.58.63:3128",
"180.32.120.63:80",
"160.105.47.210:8081",
"246.153.175.188:3128",
"87.9.119.10:8081",
"241.7.104.160:8080",
"58.206.223.144:80",
"255.50.209.54:8080",
"179.37.162.18:8080",
"17.205.233.89:8081",
"82.235.43.117:8080",
"175.173.189.65:8081",
"246.76.204.52:80",
"98.226.155.194:80",
"39.53.232.54:8081",
"172.221.93.199:3128",
"127.128.201.163:3128",
"106.176.84.22:80",
"113.197.95.120:3128",
"13.60.17.34:3128",
"138.67.162.78:3128",
"46.179.201.5:3128",
"196.123.96.15:3128",
"180.177.139.61:80",
"79.228.117.173:80",
"129.107.126.46:3128",
"238.56.73.68:8080",
"142.1.27.94:8081",
"142.168.207.102:3128",
"110.190.32.43:8081",
"232.228.80.63:8081",
"115.128.6.170:8080",
"198.141.138.50:8081",
"120.68.23.117:8080",
"217.63.165.196:80",
"206.234.47.9:3128",
"182.87.9.245:8081",
"246.42.9.254:80",
"146.55.168.168:8081",
"62.172.52.33:8081",
"154.33.37.93:8081",
"253.47.187.107:8081",
"1.102.174.176:8080",
"168.220.64.212:8081",
"201.213.23.246:80",
"70.88.162.84:8081",
"78.84.39.171:8080",
"184.216.55.115:8081",
"81.146.163.121:80",
"185.185.156.188:8080",
"172.6.231.20:3128",
"30.183.28.57:8080",
"56.149.120.230:3128",
"255.245.114.148:80",
"226.175.11.176:80",
"93.101.61.38:8080",
"238.24.40.147:8081",
"151.221.174.116:8080",
"29.155.118.14:8080",
"39.67.143.97:3128",
"221.102.233.98:8080",
"205.99.192.115:3128",
"150.246.253.40:8081",
"35.170.182.8:8081",
"84.82.131.4:8081",
"199.189.135.101:3128",
"47.215.34.91:80",
"112.213.97.59:80",
"79.215.58.7:80",
"82.133.154.195:8080",
"227.54.83.92:8081",
"255.127.177.133:8080",
"1.169.120.46:3128",
"210.51.51.96:80",
"156.13.129.232:3128",
"50.227.111.128:80",
"195.111.207.176:8080",
"210.235.230.195:80",
"109.141.87.220:3128",
"169.225.159.226:80",
"14.69.126.17:80",
"79.167.254.85:80",
"194.101.234.104:8080",
"199.157.169.159:3128",
"136.142.193.35:8080",
"196.207.151.230:80",
"129.165.45.201:80",
"123.129.89.43:3128",
"139.253.108.217:3128",
"230.35.208.146:3128",
"237.84.89.227:80",
"6.156.196.236:8080",
"188.180.178.74:3128",
"92.145.186.128:80",
"142.211.121.196:8080",
"161.16.33.112:80",
"91.56.116.59:3128",
"240.12.97.6:8081",
"251.110.107.67:80",
"20.144.73.24:80",
"124.232.40.115:80",
"62.84.191.223:8081",
"106.140.213.223:8080",
"106.19.228.134:8080",
"154.123.70.212:3128",
"205.90.239.92:3128",
"200.206.30.5:8080",
"75.194.147.140:3128",
"224.27.172.149:80",
"90.82.19.56:3128",
"218.233.186.175:80",
"239.142.234.161:3128",
"3.57.105.204:80",
"155.147.146.246:8081",
"215.220.0.72:8081",
"66.102.5.75:8080",
"72.254.148.228:80",
"143.20.20.183:8080",
"138.217.26.64:3128",
"127.212.193.128:8081",
"217.65.178.216:80",
"189.62.249.222:8081",
"32.170.33.72:3128",
"61.81.22.56:3128",
"151.249.225.78:8081",
"235.21.170.116:80",
"232.105.243.190:8080",
"4.102.106.23:3128",
"49.80.138.168:80",
"44.10.241.131:8081",
"228.96.159.64:80",
"106.248.204.24:8080",
    # أضف باقي البروكسيات هنا
]

def m1():
    en = random.choice(['en_US', 'en_GB', 'en_PK', 'ru_RU', 'de_DE', 'en_BD', 'en_IN', 'en_AF'])
    application_version = str(random.randint(111, 444)) + '.0.0.' + str(random.randrange(9, 49)) + '.' + str(random.randint(11, 33))
    ver = str(random.randrange(30, 443))
    app_version = str(random.randint(111, 444)) + '.0.0.' + str(random.randrange(9, 49)) + '.' + str(random.randint(11, 33))
    app_ver_code = str(random.randint(000000000, 999999999))
    application_version_code = str(random.randint(111111111, 999999999))
    fbap = random.choice(['414.0.0.30.113', '398.0.0.21.105', '274.0.0.22.117', '316.4.0.15.120', '385.0.0.32.114', '415.0.0.34.107', '414.0.0.30.113', '357.0.0.13.112', '415.0.0.34.107', '408.1.0.16.113', '412.0.0.22.115', '240.0.0.38.121', '414.0.0.30.113', '241.0.0.43.15'])
    
    network_types = ['4G', '3G', 'LTT', 'Wi-Fi']
    network = random.choice(network_types)
    
    fbcr = random.choice(['null', 'o2 - de', 'Verizon - us', 'Vodafone - uk']) 
    
    s = '[FBAN/FB4A;FBAV/" + str(random.randint(111, 999)) + '.0.0.' + str(random.randrange(9, 99)) + str(random.randint(111, 999)) + ";FBBV/" + str(random.randint(111111111, 999999999))
    e = '[FBAN/Orca-Android;FBAV/116.22.34.14;FBPN/com.facebook.orca;FBLC/en_US;FBBV/36199090;FBCR/AT&T;FBMF/Samsung;FBBD/Samsung;FBDV/GALAXY S24 ULTRA;FBSV/6.9;FBCA/arm64-v8a;FBDM/{density=3.0,width=1406,height=2477};FB_FW/1;FBRV/87050173]'
    
    ua = s + ";FBNW/" + network + e  
    return ua

# وظيفة لإرسال طلب إلى فيسبوك باستخدام بروكسي وUser-Agent عشوائي
def send_request():
    user_agent = m1()
    
    proxy = random.choice(proxies_list)
    proxies = {
        "http": f"http://{proxy}",
        "https": f"http://{proxy}"
    }

    headers = {
        "User-Agent": user_agent
    }

    url = "https://www.facebook.com"  # يمكنك استبدال هذا بـ URL المطلوب
    
    try:
        response = requests.get(url, headers=headers, proxies=proxies, timeout=10)
        print(f"Status Code: {response.status_code}")
        print(f"Content: {response.text[:500]}")  # طباعة أول 500 حرف من المحتوى
    except requests.RequestException as e:
        print(f"An error occurred: {e}")

# إرسال طلبات بشكل متكرر مع تأخير بين الطلبات
for _ in range(10):  # عدد الطلبات
    send_request()
    time.sleep(random.uniform(5, 15))
